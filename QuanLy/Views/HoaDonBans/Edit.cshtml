@model QuanLy.Models.HoaDonBan

@{
    ViewData["Title"] = "Edit";
    CTHDB ctb = (CTHDB)ViewData["ChiTiet"];
    List<NhanVien> listnv = (List<NhanVien>)ViewData["NhanVien"];
    List<SanPham> listsp = (List<SanPham>)ViewData["SanPham"];

    Layout = "~/Views/Shared/_ViewAdmin.cshtml";

}

<h1>Edit</h1>

<h4>HoaDonBan</h4>
<hr />
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="col-md-4">
        <div class="card card-primary">

            <div class="card-header">
                <h3 class="card-title">Details</h3>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label>ID:</label>
                    <input type="text" class="form-control float-right" name="ID" value="@Model.ID" />
                </div>
                <div class="form-group">
                    <label>Ngay ban:</label>
                    <input type="date" class="form-control float-right" name="NgayBan" value="@Model.NgayBan.ToString("yyyy-MM-dd")" />
                </div>
                <div class="form-group">
                    <label class="control-label">Ten Nhan Vien</label>
                    <select name="NhanVien">
                        @foreach (NhanVien nv in listnv)
                        {
                            if (nv.TenNV == Model.NhanVien.TenNV)
                            {
                                <option value="@nv.ID" selected>@nv.TenNV</option>
                            }
                            else
                            {
                                <option value="@nv.ID">@nv.TenNV</option>
                            }
                        }
                    </select>
                    <span asp-validation-for="NhanVienID" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label>So luong:</label>
                    <input type="text" class="form-control float-right" name="SoLuong" value="@ctb.SoLuong" />
                </div>
                <div class="form-group">
                    <label class="control-label">Ten san pham</label>
                    <select name="SanPham">
                        @foreach (SanPham sp in listsp)
                        {
                            if (sp.TenSP == ctb.SanPham.TenSP)
                            {
                                <option value="@sp.ID" selected>@sp.TenSP</option>
                            }
                            else
                            {
                                <option value="@sp.ID">@sp.TenSP</option>
                            }
                        }
                    </select>
                    <span asp-validation-for="NhanVienID" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <input type="submit" value="Edit" class="btn btn-primary" />
                </div>
            </div>
        </div>
    </div>
}

<div>
    <a asp-action="Index">Back to List</a>
</div>

